<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Salary & Expense Tracker</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React and ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    /* Custom range slider */
    input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: white;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: white;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      border: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;
    
    // Import Lucide icons
    const Wallet = lucide.Wallet;
    const TrendingUp = lucide.TrendingUp;
    const Coffee = lucide.Coffee;
    const PiggyBank = lucide.PiggyBank;
    const Plus = lucide.Plus;
    const Trash2 = lucide.Trash2;
    const DollarSign = lucide.DollarSign;

    function Icon({ icon: IconComponent, ...props }) {
      const ref = React.useRef();
      
      React.useEffect(() => {
        if (ref.current) {
          lucide.createElement(IconComponent);
        }
      }, []);
      
      return <i ref={ref} data-lucide={IconComponent} {...props} />;
    }

    function SalaryTracker() {
      const [salary, setSalary] = useState('');
      const [expenses, setExpenses] = useState([]);
      const [newExpense, setNewExpense] = useState({ name: '', amount: '' });
      const [savingsPercent, setSavingsPercent] = useState(20);
      const [funPercent, setFunPercent] = useState(10);

      useEffect(() => {
        lucide.createIcons();
      }, [expenses]);

      const addExpense = () => {
        if (newExpense.name && newExpense.amount) {
          setExpenses([...expenses, { 
            id: Date.now(), 
            name: newExpense.name, 
            amount: parseFloat(newExpense.amount) 
          }]);
          setNewExpense({ name: '', amount: '' });
        }
      };

      const deleteExpense = (id) => {
        setExpenses(expenses.filter(exp => exp.id !== id));
      };

      const totalExpenses = expenses.reduce((sum, exp) => sum + exp.amount, 0);
      const salaryNum = parseFloat(salary) || 0;
      const savingsAmount = (salaryNum * savingsPercent) / 100;
      const funAmount = (salaryNum * funPercent) / 100;
      const remaining = salaryNum - totalExpenses - savingsAmount - funAmount;

      return (
        <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-4 md:p-8">
          <div className="max-w-6xl mx-auto">
            {/* Header */}
            <div className="text-center mb-8">
              <div className="flex items-center justify-center gap-3 mb-2">
                <i data-lucide="wallet" className="w-10 h-10 text-indigo-600"></i>
                <h1 className="text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
                  Finance Tracker
                </h1>
              </div>
              <p className="text-gray-600">Manage your salary, expenses, and savings in one place</p>
            </div>

            {/* Salary Input */}
            <div className="bg-white rounded-2xl shadow-xl p-6 mb-6 border border-gray-100">
              <label className="block text-sm font-semibold text-gray-700 mb-2">
                Monthly Salary
              </label>
              <div className="relative">
                <i data-lucide="dollar-sign" className="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"></i>
                <input
                  type="number"
                  value={salary}
                  onChange={(e) => setSalary(e.target.value)}
                  placeholder="Enter your monthly salary"
                  className="w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none"
                />
              </div>
            </div>

            {/* Summary Cards */}
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <div className="bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-5 text-white shadow-lg">
                <div className="flex items-center gap-2 mb-2">
                  <i data-lucide="piggy-bank" className="w-5 h-5"></i>
                  <span className="text-sm font-medium opacity-90">Savings</span>
                </div>
                <p className="text-3xl font-bold">${savingsAmount.toFixed(2)}</p>
                <p className="text-sm opacity-75 mt-1">{savingsPercent}% of salary</p>
              </div>

              <div className="bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-5 text-white shadow-lg">
                <div className="flex items-center gap-2 mb-2">
                  <i data-lucide="coffee" className="w-5 h-5"></i>
                  <span className="text-sm font-medium opacity-90">Fun Money</span>
                </div>
                <p className="text-3xl font-bold">${funAmount.toFixed(2)}</p>
                <p className="text-sm opacity-75 mt-1">{funPercent}% of salary</p>
              </div>

              <div className="bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-5 text-white shadow-lg">
                <div className="flex items-center gap-2 mb-2">
                  <i data-lucide="trending-up" className="w-5 h-5"></i>
                  <span className="text-sm font-medium opacity-90">Expenses</span>
                </div>
                <p className="text-3xl font-bold">${totalExpenses.toFixed(2)}</p>
                <p className="text-sm opacity-75 mt-1">{expenses.length} items</p>
              </div>

              <div className={`bg-gradient-to-br ${remaining >= 0 ? 'from-blue-500 to-indigo-600' : 'from-gray-500 to-gray-700'} rounded-xl p-5 text-white shadow-lg`}>
                <div className="flex items-center gap-2 mb-2">
                  <i data-lucide="wallet" className="w-5 h-5"></i>
                  <span className="text-sm font-medium opacity-90">Remaining</span>
                </div>
                <p className="text-3xl font-bold">${remaining.toFixed(2)}</p>
                <p className="text-sm opacity-75 mt-1">After all deductions</p>
              </div>
            </div>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Allocation Settings */}
              <div className="bg-white rounded-2xl shadow-xl p-6 border border-gray-100">
                <h2 className="text-xl font-bold text-gray-800 mb-4">Allocation Settings</h2>
                
                <div className="mb-6">
                  <label className="block text-sm font-semibold text-gray-700 mb-2">
                    Savings Percentage: {savingsPercent}%
                  </label>
                  <input
                    type="range"
                    min="0"
                    max="50"
                    value={savingsPercent}
                    onChange={(e) => setSavingsPercent(parseInt(e.target.value))}
                    className="w-full h-3 bg-gradient-to-r from-green-200 to-green-500 rounded-lg appearance-none cursor-pointer"
                  />
                </div>

                <div>
                  <label className="block text-sm font-semibold text-gray-700 mb-2">
                    Fun Money Percentage: {funPercent}%
                  </label>
                  <input
                    type="range"
                    min="0"
                    max="30"
                    value={funPercent}
                    onChange={(e) => setFunPercent(parseInt(e.target.value))}
                    className="w-full h-3 bg-gradient-to-r from-purple-200 to-purple-500 rounded-lg appearance-none cursor-pointer"
                  />
                </div>

                {salaryNum > 0 && (
                  <div className="mt-6 p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl">
                    <p className="text-sm text-gray-600 mb-2">Budget Breakdown:</p>
                    <div className="space-y-1 text-sm">
                      <div className="flex justify-between">
                        <span className="text-gray-600">Salary:</span>
                        <span className="font-semibold">${salaryNum.toFixed(2)}</span>
                      </div>
                      <div className="flex justify-between">
                        <span className="text-gray-600">- Savings:</span>
                        <span className="font-semibold text-green-600">-${savingsAmount.toFixed(2)}</span>
                      </div>
                      <div className="flex justify-between">
                        <span className="text-gray-600">- Fun Money:</span>
                        <span className="font-semibold text-purple-600">-${funAmount.toFixed(2)}</span>
                      </div>
                      <div className="flex justify-between">
                        <span className="text-gray-600">- Expenses:</span>
                        <span className="font-semibold text-orange-600">-${totalExpenses.toFixed(2)}</span>
                      </div>
                      <div className="flex justify-between pt-2 border-t-2 border-gray-300">
                        <span className="font-semibold text-gray-700">Remaining:</span>
                        <span className={`font-bold ${remaining >= 0 ? 'text-blue-600' : 'text-red-600'}`}>
                          ${remaining.toFixed(2)}
                        </span>
                      </div>
                    </div>
                  </div>
                )}
              </div>

              {/* Expenses */}
              <div className="bg-white rounded-2xl shadow-xl p-6 border border-gray-100">
                <h2 className="text-xl font-bold text-gray-800 mb-4">Monthly Expenses</h2>
                
                <div className="space-y-3 mb-4">
                  <input
                    type="text"
                    value={newExpense.name}
                    onChange={(e) => setNewExpense({...newExpense, name: e.target.value})}
                    placeholder="Expense name (e.g., Rent)"
                    className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none"
                  />
                  <div className="flex gap-3">
                    <input
                      type="number"
                      value={newExpense.amount}
                      onChange={(e) => setNewExpense({...newExpense, amount: e.target.value})}
                      placeholder="Amount"
                      className="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all outline-none"
                    />
                    <button
                      onClick={addExpense}
                      className="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2 font-semibold"
                    >
                      <i data-lucide="plus" className="w-5 h-5"></i>
                      Add
                    </button>
                  </div>
                </div>

                <div className="space-y-2 max-h-96 overflow-y-auto">
                  {expenses.length === 0 ? (
                    <div className="text-center py-8 text-gray-400">
                      <i data-lucide="trending-up" className="w-12 h-12 mx-auto mb-2 opacity-50"></i>
                      <p>No expenses yet. Add your first expense above.</p>
                    </div>
                  ) : (
                    expenses.map(expense => (
                      <div key={expense.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors border border-gray-200">
                        <div>
                          <p className="font-semibold text-gray-800">{expense.name}</p>
                          <p className="text-sm text-gray-500">${expense.amount.toFixed(2)}</p>
                        </div>
                        <button
                          onClick={() => deleteExpense(expense.id)}
                          className="p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors"
                        >
                          <i data-lucide="trash-2" className="w-5 h-5"></i>
                        </button>
                      </div>
                    ))
                  )}
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<SalaryTracker />);
  </script>
</body>
</html>
